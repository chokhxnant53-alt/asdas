<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://flashexpress.com/favicon.ico" type="image/x-icon">
  <title>Flash Express</title>
  <style>
    body { font-family: "Prompt", sans-serif; background-color: #fffbea; margin: 0; padding: 0; }
    header { background-color: #ffeb3b; display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
    .title { font-weight: bold; font-size: 20px; }
    .wallet { background: white; border-radius: 12px; box-shadow: 0 3px 6px rgba(0,0,0,0.1); margin: 20px; padding: 20px; text-align: center; }
    .wallet h3 { color: purple; margin: 0 0 10px 0; }
    .amount { font-size: 36px; font-weight: bold; color: black; }
    .subtext { color: #555; font-size: 14px; margin-bottom: 10px; }
    .section { margin: 25px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
    .card { background: white; border-radius: 12px; box-shadow: 0 3px 6px rgba(0,0,0,0.05); text-align: center; padding: 15px; transition: 0.3s; text-decoration: none; color: black; }
    .card:hover { transform: translateY(-5px); }
    .card img { width: 40px; height: 40px; margin-bottom: 10px; }
    footer { position: fixed; bottom: 0; left: 0; width: 100%; background: #fff; border-top: 2px solid #ffeb3b; display: flex; justify-content: space-around; padding: 10px 0; z-index: 999; }
    footer a { text-align: center; text-decoration: none; color: #444; font-size: 13px; flex: 1; }
    footer a.active { color: #6a1b9a; font-weight: 700; }
  </style>
</head>
<body>

  <header>
    <div class="title">Flash Express</div>
    <div>üîî</div>
  </header>

  <div class="wallet">
    <h3>‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô Flash</h3>
    <div class="amount" id="balance">0.00</div>
    <div class="subtext" id="customerInfo">‡πÄ‡∏ö‡∏≠‡∏£‡πå: -</div>
  </div>

  <footer>
    <a href="index.html" class="active">üè†<br><span>‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span></a>
    <a href="news.html">üì∞<br><span>‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</span></a>
    <a href="transaction.html">üí∞<br><span>‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°</span></a>
    <a href="account.html">üë§<br><span>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</span></a>
  </footer>

  <!-- Firebase SDK -->
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-database.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyALSOECmTwrVr0RQAp_b632HmxQQsJvLMw",
  authDomain: "flash-claim-system.firebaseapp.com",
  databaseURL: "https://flash-claim-system-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "flash-claim-system",
  storageBucket: "flash-claim-system.firebasestorage.app",
  messagingSenderId: "369180040049",
  appId: "1:369180040049:web:6753f5e48a23bc6737b4d0",
  measurementId: "G-VLVBYB6Q3Q"
};

// ‚úÖ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Firebase
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.database();



    const display = document.getElementById("balance");
    const info = document.getElementById("customerInfo");
    const activeCustomer = localStorage.getItem("active_customer");

    if (!activeCustomer) {
      alert("‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô");
      window.location.href = "login-customer.html";
    } else {
      info.textContent = `‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${activeCustomer}`;

      // ‚úÖ ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡∏à‡∏≤‡∏Å Firebase
      const ref = db.ref("customers/" + activeCustomer);
      ref.on("value", (snapshot) => {
        const data = snapshot.val();
        const balance = data?.balance || 0;
        display.textContent = parseFloat(balance).toLocaleString("th-TH", { minimumFractionDigits: 2 });
      });
    }
  </script>
</body>
</html>
